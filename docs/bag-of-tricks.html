<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Bag of tricks | Ten SPSS tricks to make your peers jealous</title>
  <meta name="description" content="Chapter 2 Bag of tricks | Ten SPSS tricks to make your peers jealous" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Bag of tricks | Ten SPSS tricks to make your peers jealous" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Bag of tricks | Ten SPSS tricks to make your peers jealous" />
  
  
  

<meta name="author" content="Bernard Liew" />


<meta name="date" content="2021-06-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="practice.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="bag-of-tricks.html"><a href="bag-of-tricks.html"><i class="fa fa-check"></i><b>2</b> Bag of tricks</a>
<ul>
<li class="chapter" data-level="2.1" data-path="bag-of-tricks.html"><a href="bag-of-tricks.html#trick1"><i class="fa fa-check"></i><b>2.1</b> Trick 1 - Paste to syntax</a></li>
<li class="chapter" data-level="2.2" data-path="bag-of-tricks.html"><a href="bag-of-tricks.html#trick2"><i class="fa fa-check"></i><b>2.2</b> Trick 2 - Setting your work directory</a></li>
<li class="chapter" data-level="2.3" data-path="bag-of-tricks.html"><a href="bag-of-tricks.html#trick3"><i class="fa fa-check"></i><b>2.3</b> Trick 3 - Importing data</a></li>
<li class="chapter" data-level="2.4" data-path="bag-of-tricks.html"><a href="bag-of-tricks.html#trick4"><i class="fa fa-check"></i><b>2.4</b> Trick 4 - Rename columns</a></li>
<li class="chapter" data-level="2.5" data-path="bag-of-tricks.html"><a href="bag-of-tricks.html#trick5"><i class="fa fa-check"></i><b>2.5</b> Trick 5 - Filter rows</a></li>
<li class="chapter" data-level="2.6" data-path="bag-of-tricks.html"><a href="bag-of-tricks.html#trick6"><i class="fa fa-check"></i><b>2.6</b> Trick 6 - Create new variables</a></li>
<li class="chapter" data-level="2.7" data-path="bag-of-tricks.html"><a href="bag-of-tricks.html#trick7"><i class="fa fa-check"></i><b>2.7</b> Trick 7 - Aggregate data</a></li>
<li class="chapter" data-level="2.8" data-path="bag-of-tricks.html"><a href="bag-of-tricks.html#trick8"><i class="fa fa-check"></i><b>2.8</b> Trick 8 - Group by function</a></li>
<li class="chapter" data-level="2.9" data-path="bag-of-tricks.html"><a href="bag-of-tricks.html#trick9"><i class="fa fa-check"></i><b>2.9</b> Trick 9 - Wide to long</a></li>
<li class="chapter" data-level="2.10" data-path="bag-of-tricks.html"><a href="bag-of-tricks.html#trick10"><i class="fa fa-check"></i><b>2.10</b> Trick 10 - Long to wide</a></li>
<li class="chapter" data-level="2.11" data-path="bag-of-tricks.html"><a href="bag-of-tricks.html#conclusion"><i class="fa fa-check"></i><b>2.11</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="practice.html"><a href="practice.html"><i class="fa fa-check"></i><b>3</b> Practice</a>
<ul>
<li class="chapter" data-level="3.1" data-path="practice.html"><a href="practice.html#original-table"><i class="fa fa-check"></i><b>3.1</b> Original table</a></li>
<li class="chapter" data-level="3.2" data-path="practice.html"><a href="practice.html#final-table"><i class="fa fa-check"></i><b>3.2</b> Final table</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ten SPSS tricks to make your peers jealous</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="bag-of-tricks" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Bag of tricks</h1>
<div id="trick1" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Trick 1 - Paste to syntax</h2>
<p><strong>If you can develop one habit, it is this!!!</strong> The good thing about interacting with SPSS using syntax, is that you do not have to be a total syntax convert. You can continue using the “point and click” interface, but instead of executing the command, press <strong>paste</strong> as you see in Figure <a href="bag-of-tricks.html#fig:paste-syntax">2.1</a>. Pasting automatically copies the word version of what you clicked into your opened syntax.</p>
<div class="figure"><span id="fig:paste-syntax"></span>
<img src="images/paste_syntax.png" alt="Paste the syntax you generated implicitly by clicking" width="60%" />
<p class="caption">
Figure 2.1: Paste the syntax you generated implicitly by clicking
</p>
</div>
<p>I have not ever encountered an SPSS function that does not eventually have a paste function. Try finding it and saving what you intend to do like in Figure <a href="bag-of-tricks.html#fig:paste-syntax2">2.2</a>.</p>
<div class="figure"><span id="fig:paste-syntax2"></span>
<img src="images/paste_syntax2.png" alt="Always try to paste your syntax rather than executing" width="50%" />
<p class="caption">
Figure 2.2: Always try to paste your syntax rather than executing
</p>
</div>
<p>To run each command, highlight and press the play button like in Figure <a href="bag-of-tricks.html#fig:play">2.3</a>.</p>
<div class="figure"><span id="fig:play"></span>
<img src="images/run_syntax.png" alt="Executing a command" width="100%" />
<p class="caption">
Figure 2.3: Executing a command
</p>
</div>
</div>
<div id="trick2" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Trick 2 - Setting your work directory</h2>
<p>When importing data from deeply nested folders, it can be a pain to do so. In addition, when exporting files or figures, many often scratch their head as to where the files went to. The solution to this is to <strong>explicitly</strong> define the folder on your computer where everything starts and ends. All the files will be exported to that folder. And importing becomes a breeze.
gh
You can set the working directory by pasting the command below into your SPSS syntax, and change the folder path to your path. Just make sure to enclose it in <code>" "</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="bag-of-tricks.html#cb1-1" aria-hidden="true" tabindex="-1"></a>cd <span class="st">&#39;C:\Box\myBox\Documents</span><span class="sc">\t</span><span class="st">eaching\Statistics\SPSS\wrangling\Essex_SPSS_summer\data&#39;</span>.</span></code></pre></div>
</div>
<div id="trick3" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Trick 3 - Importing data</h2>
<p>The most common starting point for data analysis is Excel, so I will demonstrate how to easily import an Excel file. Paste the command below into your syntax, and simply change the file name <code>df.xlsx</code> to whatever your file is named. Remember not to change the file extension <code>.xlsx</code>. Notice I did not to do this <code>"'C:\Box\myBox\Documents\teaching\Statistics\SPSS\wrangling\Essex_SPSS_summer\data\df.xlsx'"</code>. It was because I already defined the path the file was in trick <a href="bag-of-tricks.html#trick2">2.2</a>. If your Excel file has multiple sheets, change the sheet name <code>jump</code> to whatever it is named. If you only have one sheet, you can leave it blank.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="bag-of-tricks.html#cb2-1" aria-hidden="true" tabindex="-1"></a>GET DATA</span>
<span id="cb2-2"><a href="bag-of-tricks.html#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>TYPE<span class="ot">=</span>XLSX</span>
<span id="cb2-3"><a href="bag-of-tricks.html#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>FILE<span class="ot">=</span> <span class="st">&#39;df.xlsx&#39;</span></span>
<span id="cb2-4"><a href="bag-of-tricks.html#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>SHEET<span class="ot">=</span>name <span class="st">&#39;jump&#39;</span></span>
<span id="cb2-5"><a href="bag-of-tricks.html#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>CELLRANGE<span class="ot">=</span>FULL</span>
<span id="cb2-6"><a href="bag-of-tricks.html#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>READNAMES<span class="ot">=</span>ON</span>
<span id="cb2-7"><a href="bag-of-tricks.html#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>DATATYPEMIN PERCENTAGE<span class="ot">=</span><span class="fl">95.0</span></span>
<span id="cb2-8"><a href="bag-of-tricks.html#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>HIDDEN IGNORE<span class="ot">=</span>YES.</span></code></pre></div>
<p>Using the sample data I provide, this is what the data looks like in Figure <a href="bag-of-tricks.html#fig:original">2.4</a>.</p>
<div class="figure"><span id="fig:original"></span>
<img src="images/original_data.png" alt="Original data" width="100%" />
<p class="caption">
Figure 2.4: Original data
</p>
</div>
</div>
<div id="trick4" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Trick 4 - Rename columns</h2>
<p>Renaming columns is a common task. Paste the command below into your syntax and run it. Put all the original column names before the <code>=</code> and all the new names after. There must be a spacing between each name, and the order preceding and proceeding the <code>=</code> must be identical.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="bag-of-tricks.html#cb3-1" aria-hidden="true" tabindex="-1"></a>RENAME <span class="fu">VARIABLES</span> (subj group <span class="at">wt  =</span> id grp weight).</span></code></pre></div>
<p>After renaming, this is what the data looks like in Figure <a href="bag-of-tricks.html#fig:rename-col">2.5</a>.</p>
<div class="figure"><span id="fig:rename-col"></span>
<img src="images/rename.PNG" alt="New column names" width="100%" />
<p class="caption">
Figure 2.5: New column names
</p>
</div>
</div>
<div id="trick5" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Trick 5 - Filter rows</h2>
<p>You might want to keep rows in your data based on some conditions. I tend to prefer to keep whatever rows I want and discard the remaining. Discarding your data does not harm your original data in Excel. If you change your mind, just highlight all the commands from the start and press the play button. In the example below, I want to keep rows where the variable <code>task</code> is equal to<code>"cmjbw"</code> AND <code>side</code> is equal to “<code>R</code>.” Below are some of the operators you can mix and match to powerfully filter your data.</p>
<table>
<thead>
<tr class="header">
<th align="left">Symbols</th>
<th align="right">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>=</code></td>
<td align="right">Equal</td>
</tr>
<tr class="even">
<td align="left"><code>~=</code></td>
<td align="right">Not equal</td>
</tr>
<tr class="odd">
<td align="left"><code>&lt;</code></td>
<td align="right">Less than</td>
</tr>
<tr class="even">
<td align="left"><code>&lt;=</code></td>
<td align="right">Less than or equal</td>
</tr>
<tr class="odd">
<td align="left"><code>&gt;</code></td>
<td align="right">More than</td>
</tr>
<tr class="even">
<td align="left"><code>&gt;=</code></td>
<td align="right">More than or equal</td>
</tr>
<tr class="odd">
<td align="left"><code>&amp;</code></td>
<td align="right">AND</td>
</tr>
<tr class="even">
<td align="left"><code>|</code></td>
<td align="right">OR</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="bag-of-tricks.html#cb4-1" aria-hidden="true" tabindex="-1"></a>FILTER OFF.</span>
<span id="cb4-2"><a href="bag-of-tricks.html#cb4-2" aria-hidden="true" tabindex="-1"></a>USE ALL.</span>
<span id="cb4-3"><a href="bag-of-tricks.html#cb4-3" aria-hidden="true" tabindex="-1"></a>SELECT <span class="fu">IF</span> (<span class="at">task =</span> <span class="st">&quot;cmjbw&quot;</span> <span class="sc">&amp;</span>  <span class="at">side =</span> <span class="st">&quot;R&quot;</span>).</span>
<span id="cb4-4"><a href="bag-of-tricks.html#cb4-4" aria-hidden="true" tabindex="-1"></a>EXECUTE.</span></code></pre></div>
<p>After filtering, this is what the data looks like in Figure <a href="bag-of-tricks.html#fig:filter-row">2.6</a>.</p>
<div class="figure"><span id="fig:filter-row"></span>
<img src="images/filter.PNG" alt="Keeping rows based on some conditions" width="100%" />
<p class="caption">
Figure 2.6: Keeping rows based on some conditions
</p>
</div>
</div>
<div id="trick6" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Trick 6 - Create new variables</h2>
<p>You might want to create new variables, such as calculating BMI from height and mass. Add as many <code>COMPUTE</code> functions below as needed. The command reads as <code>COMPUTE height = ht/100.</code>, make a new variable called <code>height</code> by dividing the original variable<code>ht</code> by 100. You can either create a new variable or replace the existing variable by using a new name or the original name, respectively.</p>
<p><strong>Math functions</strong></p>
<p><code>+</code> Add</p>
<p><code>-</code> Subtract</p>
<p><code>/</code> Divide</p>
<p><code>*</code> Multiply</p>
<p><code>**</code> Power</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="bag-of-tricks.html#cb5-1" aria-hidden="true" tabindex="-1"></a>COMPUTE height <span class="ot">=</span> ht<span class="sc">/</span><span class="fl">100.</span> </span>
<span id="cb5-2"><a href="bag-of-tricks.html#cb5-2" aria-hidden="true" tabindex="-1"></a>COMPUTE weight <span class="ot">=</span> weight<span class="sc">/</span><span class="fl">100.</span></span>
<span id="cb5-3"><a href="bag-of-tricks.html#cb5-3" aria-hidden="true" tabindex="-1"></a>COMPUTE BMI <span class="ot">=</span> weight<span class="sc">/</span>(height<span class="sc">**</span><span class="dv">2</span>).</span>
<span id="cb5-4"><a href="bag-of-tricks.html#cb5-4" aria-hidden="true" tabindex="-1"></a>EXECUTE.</span></code></pre></div>
<p>After computing new variables, this is what the data looks like in Figure <a href="bag-of-tricks.html#fig:mutate">2.7</a>.</p>
<div class="figure"><span id="fig:mutate"></span>
<img src="images/mutate.PNG" alt="New variables created" width="100%" />
<p class="caption">
Figure 2.7: New variables created
</p>
</div>
</div>
<div id="trick7" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Trick 7 - Aggregate data</h2>
<p>You may want to find some summary statistics for each level of a grouping variable. In the example below, I want to calculate for each id, in each group, at each time, find the mean (<code>MEAN</code>), minimum (<code>MIN</code>), maximum (<code>MAX</code>), standard deviation (<code>SD</code>), and median (<code>MEDIAN</code>) of the following variables (<code>aexttorq</code>, <code>aextwork</code>, <code>aextpow</code>). When you see this argument, <code>/aexttorq_mean=MEAN(aexttorq)</code>, the value before <code>=</code> represents the new variable name. However many aggregate values you desire, add as many arguments on a separate line. In this command, the aggregate data is pasted onto a separate data window called <code>aggregate_data</code> - you can give the new data window any name.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="bag-of-tricks.html#cb6-1" aria-hidden="true" tabindex="-1"></a>DATASET DECLARE aggregate_data.</span>
<span id="cb6-2"><a href="bag-of-tricks.html#cb6-2" aria-hidden="true" tabindex="-1"></a>AGGREGATE</span>
<span id="cb6-3"><a href="bag-of-tricks.html#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>OUTFILE<span class="ot">=</span><span class="st">&#39;aggregate_data&#39;</span></span>
<span id="cb6-4"><a href="bag-of-tricks.html#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>BREAK<span class="ot">=</span>id grp time </span>
<span id="cb6-5"><a href="bag-of-tricks.html#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>aexttorq_mean<span class="ot">=</span><span class="fu">MEAN</span>(aexttorq) </span>
<span id="cb6-6"><a href="bag-of-tricks.html#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>aextwork_min<span class="ot">=</span><span class="fu">MIN</span>(aextwork) </span>
<span id="cb6-7"><a href="bag-of-tricks.html#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>aextpow_max<span class="ot">=</span><span class="fu">MAX</span>(aextpow) </span>
<span id="cb6-8"><a href="bag-of-tricks.html#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>aexttorq_sd<span class="ot">=</span><span class="fu">SD</span>(aexttorq) </span>
<span id="cb6-9"><a href="bag-of-tricks.html#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>aextwork_median<span class="ot">=</span><span class="fu">MEDIAN</span>(aextwork).</span></code></pre></div>
<p>After aggregating, this is what the data looks like in Figure <a href="bag-of-tricks.html#fig:aggregate">2.8</a>.</p>
<div class="figure"><span id="fig:aggregate"></span>
<img src="images/aggregate.png" alt="Aggregated summary" width="100%" />
<p class="caption">
Figure 2.8: Aggregated summary
</p>
</div>
</div>
<div id="trick8" class="section level2" number="2.8">
<h2><span class="header-section-number">2.8</span> Trick 8 - Group by function</h2>
<p>Many times you want to do the same thing repeatedly on certain chunks of data. For example, you want to find the mean strength on each level of sex (male, female), or even each level of the combination of sex-side (male-right, male-left, female-right, female-left). Precede whatever function you want to execute, with the command below. In the command below, I want to do the same analysis for each level of the combination of <code>grp</code> and <code>side</code>. This works for categorical variables. Replace <code>grp</code> and <code>side</code> with however many variables you want to split the data by.</p>
<p><em>PS</em> This means you can run the same stats on each split of the data by running the stats only once if you use this command.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="bag-of-tricks.html#cb7-1" aria-hidden="true" tabindex="-1"></a>SORT CASES  BY grp side.</span>
<span id="cb7-2"><a href="bag-of-tricks.html#cb7-2" aria-hidden="true" tabindex="-1"></a>SPLIT FILE SEPARATE BY grp side.</span></code></pre></div>
<p>After grouping the data, when I ran a descriptive analysis, this is what the results looks like in Figure <a href="bag-of-tricks.html#fig:group-by">2.9</a>.</p>
<div class="figure"><span id="fig:group-by"></span>
<img src="images/group-by.PNG" alt="Group-by descriptives" width="60%" />
<p class="caption">
Figure 2.9: Group-by descriptives
</p>
</div>
</div>
<div id="trick9" class="section level2" number="2.9">
<h2><span class="header-section-number">2.9</span> Trick 9 - Wide to long</h2>
<div class="figure"><span id="fig:ugly"></span>
<img src="images/wide_data.png" alt="Wide data" width="100%" />
<p class="caption">
Figure 2.10: Wide data
</p>
</div>
<p>Typically data is keyed into Excel in the wide-format like in Figure <a href="bag-of-tricks.html#fig:ugly">2.10</a>. In &gt; 90% of any data analysis, data should <strong>NOT</strong> be in this format. The only thing I know in SPSS that requires data to be in the wide-format is when you want to use Repeated Measures Anova or a Paired t-test. So it is useful to know how to convert data to a long format since &gt; 90% of SPSS function requires data to be in a long format.</p>
<p><code>/MAKE val FROM aexttorq_pre aexttorq_post</code> says collect all the variables <code>aexttorq_pre</code>, <code>aexttorq_post</code> and stack their values on top of each other. The column containing the values is called <code>val</code>. The column where the names of the values are stored is called <code>mediator</code>. Remember, you can call the new columns anything you want. <code>/KEEP=id grp time</code> simply says keep the following columns in the new data.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="bag-of-tricks.html#cb8-1" aria-hidden="true" tabindex="-1"></a>VARSTOCASES</span>
<span id="cb8-2"><a href="bag-of-tricks.html#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>MAKE val FROM aexttorq_pre aexttorq_post </span>
<span id="cb8-3"><a href="bag-of-tricks.html#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>INDEX<span class="ot">=</span><span class="fu">mediator</span>(val) </span>
<span id="cb8-4"><a href="bag-of-tricks.html#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>KEEP<span class="ot">=</span>id grp time</span>
<span id="cb8-5"><a href="bag-of-tricks.html#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span><span class="cn">NULL</span><span class="ot">=</span>KEEP.</span></code></pre></div>
<p>After running the command, this is what the results looks like in Figure <a href="bag-of-tricks.html#fig:tidy">2.11</a>.</p>
<div class="figure"><span id="fig:tidy"></span>
<img src="images/long_data.png" alt="Long data" width="100%" />
<p class="caption">
Figure 2.11: Long data
</p>
</div>
</div>
<div id="trick10" class="section level2" number="2.10">
<h2><span class="header-section-number">2.10</span> Trick 10 - Long to wide</h2>
<p>Just in case you need to make the data wide again. The two key commands are <code>/ID=id grp time</code> and <code>/INDEX=mediator</code>. <code>/ID</code> represents how each data point will be uniquely identified. <code>/INDEX</code> represents the variable you want to spread by.</p>
<p>Notice that trick <a href="bag-of-tricks.html#trick10">2.10</a> and <a href="bag-of-tricks.html#trick9">2.9</a> are mirror images. the <code>/ID</code> command in trick 10 should be identical to the <code>/KEEP</code> in trick <a href="bag-of-tricks.html#trick9">2.9</a>. The <code>/INDEX</code> in both tricks <a href="bag-of-tricks.html#trick10">2.10</a> and <a href="bag-of-tricks.html#trick9">2.9</a> should contain the variable name you want to spread by.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="bag-of-tricks.html#cb9-1" aria-hidden="true" tabindex="-1"></a>CASESTOVARS</span>
<span id="cb9-2"><a href="bag-of-tricks.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>ID<span class="ot">=</span>id grp time</span>
<span id="cb9-3"><a href="bag-of-tricks.html#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>INDEX<span class="ot">=</span>mediator</span>
<span id="cb9-4"><a href="bag-of-tricks.html#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">/</span>GROUPBY<span class="ot">=</span>VARIABLE.</span></code></pre></div>
<p>After running the command, the data looks like in Figure <a href="bag-of-tricks.html#fig:ugly">2.10</a> again.</p>
</div>
<div id="conclusion" class="section level2" number="2.11">
<h2><span class="header-section-number">2.11</span> Conclusion</h2>
<p>Notice how I did not even touch of saving any outputs. The reason for that is that one should first save all the commands ran rather than the results. Saving the process allows you to replicate your actions, saving your results will not.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="practice.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["wrangling.pdf", "wrangling.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
